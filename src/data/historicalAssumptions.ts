/**
 * Historical CRA tax parameters 1990–2025 (Ontario provincial rates)
 *
 * Sources: CRA T1 guides, Canada.ca historical tax tables, Ontario Finance
 * These are injected as assumption overrides so historical years get correct
 * absolute values instead of auto-indexed projections.
 *
 * Note: Pre-2001 federal brackets used a 3-bracket system with surtaxes.
 * We model the effective rates after surtax as bracket rates for simplicity.
 */
import type { AssumptionOverrides, TaxBracket } from '../types/scenario';

// Helper to build bracket arrays concisely
function br(data: [number, number | null, number][]): TaxBracket[] {
  return data.map(([min, max, rate]) => ({ min, max, rate }));
}

export const HISTORICAL_ASSUMPTIONS: Record<number, AssumptionOverrides> = {
  // ═══════════════════════════════════════════════════════════
  // 1990–1999: 3-bracket federal system + Ontario % of federal
  // ═══════════════════════════════════════════════════════════
  1990: {
    federalBPA: 6169,
    provincialBPA: 6169, // Ontario mirrored federal BPA pre-2000
    federalBrackets: br([[0, 28784, 0.17], [28784, 57568, 0.26], [57568, null, 0.29]]),
    provincialBrackets: br([[0, 28784, 0.0884], [28784, 57568, 0.1352], [57568, null, 0.1508]]),
    cppBasicExemption: 2800, cppYmpe: 28900, cppEmployeeRate: 0.023, cppCpp2Rate: 0, cppYampe: 28900,
    eiMaxInsurableEarnings: 29900, eiEmployeeRate: 0.0225,
    rrspLimit: 11500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1991: {
    federalBPA: 6280,
    provincialBPA: 6280,
    federalBrackets: br([[0, 28784, 0.17], [28784, 57568, 0.26], [57568, null, 0.29]]),
    provincialBrackets: br([[0, 28784, 0.0884], [28784, 57568, 0.1352], [57568, null, 0.1508]]),
    cppBasicExemption: 3000, cppYmpe: 30500, cppEmployeeRate: 0.024, cppCpp2Rate: 0, cppYampe: 30500,
    eiMaxInsurableEarnings: 30420, eiEmployeeRate: 0.0240,
    rrspLimit: 11500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1992: {
    federalBPA: 6456,
    provincialBPA: 6456,
    federalBrackets: br([[0, 29590, 0.17], [29590, 59180, 0.26], [59180, null, 0.29]]),
    provincialBrackets: br([[0, 29590, 0.0918], [29590, 59180, 0.1404], [59180, null, 0.1566]]),
    cppBasicExemption: 3200, cppYmpe: 32200, cppEmployeeRate: 0.025, cppCpp2Rate: 0, cppYampe: 32200,
    eiMaxInsurableEarnings: 32760, eiEmployeeRate: 0.0300,
    rrspLimit: 12500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1993: {
    federalBPA: 6456,
    provincialBPA: 6456,
    federalBrackets: br([[0, 29590, 0.17], [29590, 59180, 0.26], [59180, null, 0.29]]),
    provincialBrackets: br([[0, 29590, 0.0935], [29590, 59180, 0.143], [59180, null, 0.1595]]),
    cppBasicExemption: 3300, cppYmpe: 33400, cppEmployeeRate: 0.025, cppCpp2Rate: 0, cppYampe: 33400,
    eiMaxInsurableEarnings: 38740, eiEmployeeRate: 0.0300,
    rrspLimit: 12500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1994: {
    federalBPA: 6456,
    provincialBPA: 6456,
    federalBrackets: br([[0, 29590, 0.17], [29590, 59180, 0.26], [59180, null, 0.29]]),
    provincialBrackets: br([[0, 29590, 0.0935], [29590, 59180, 0.143], [59180, null, 0.1595]]),
    cppBasicExemption: 3400, cppYmpe: 34400, cppEmployeeRate: 0.026, cppCpp2Rate: 0, cppYampe: 34400,
    eiMaxInsurableEarnings: 40560, eiEmployeeRate: 0.0300,
    rrspLimit: 13500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1995: {
    federalBPA: 6456,
    provincialBPA: 6456,
    federalBrackets: br([[0, 29590, 0.17], [29590, 59180, 0.26], [59180, null, 0.29]]),
    provincialBrackets: br([[0, 29590, 0.0935], [29590, 59180, 0.143], [59180, null, 0.1595]]),
    cppBasicExemption: 3400, cppYmpe: 34900, cppEmployeeRate: 0.027, cppCpp2Rate: 0, cppYampe: 34900,
    eiMaxInsurableEarnings: 42380, eiEmployeeRate: 0.0300,
    rrspLimit: 14500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1996: {
    federalBPA: 6456,
    provincialBPA: 6456,
    federalBrackets: br([[0, 29590, 0.17], [29590, 59180, 0.26], [59180, null, 0.29]]),
    provincialBrackets: br([[0, 29590, 0.0935], [29590, 59180, 0.143], [59180, null, 0.1595]]),
    cppBasicExemption: 3500, cppYmpe: 35400, cppEmployeeRate: 0.028, cppCpp2Rate: 0, cppYampe: 35400,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0295,
    rrspLimit: 13500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1997: {
    federalBPA: 6456,
    provincialBPA: 6456,
    federalBrackets: br([[0, 29590, 0.17], [29590, 59180, 0.26], [59180, null, 0.29]]),
    provincialBrackets: br([[0, 29590, 0.0935], [29590, 59180, 0.143], [59180, null, 0.1595]]),
    cppBasicExemption: 3500, cppYmpe: 35800, cppEmployeeRate: 0.030, cppCpp2Rate: 0, cppYampe: 35800,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0270,
    rrspLimit: 13500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1998: {
    federalBPA: 6456,
    provincialBPA: 6456,
    federalBrackets: br([[0, 29590, 0.17], [29590, 59180, 0.26], [59180, null, 0.29]]),
    provincialBrackets: br([[0, 29590, 0.0935], [29590, 59180, 0.143], [59180, null, 0.1595]]),
    cppBasicExemption: 3500, cppYmpe: 36900, cppEmployeeRate: 0.032, cppCpp2Rate: 0, cppYampe: 36900,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0270,
    rrspLimit: 13500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },
  1999: {
    federalBPA: 6794,
    provincialBPA: 6794,
    federalBrackets: br([[0, 29590, 0.17], [29590, 59180, 0.26], [59180, null, 0.29]]),
    provincialBrackets: br([[0, 29590, 0.0935], [29590, 59180, 0.143], [59180, null, 0.1595]]),
    cppBasicExemption: 3500, cppYmpe: 37400, cppEmployeeRate: 0.035, cppCpp2Rate: 0, cppYampe: 37400,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0255,
    rrspLimit: 13500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.75,
  },

  // ═══════════════════════════════════════════════════════════
  // 2000: Transition year — CG inclusion changed to 66.67% (Feb 28)
  // ═══════════════════════════════════════════════════════════
  2000: {
    federalBPA: 7231,
    provincialBPA: 7231,
    federalBrackets: br([[0, 30004, 0.17], [30004, 60009, 0.25], [60009, null, 0.29]]),
    provincialBrackets: br([[0, 30004, 0.0616], [30004, 60009, 0.0916], [60009, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 37600, cppEmployeeRate: 0.039, cppCpp2Rate: 0, cppYampe: 37600,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0240,
    rrspLimit: 13500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.667,
  },

  // ═══════════════════════════════════════════════════════════
  // 2001+: 4-bracket federal system, Ontario own brackets, CG 50%
  // ═══════════════════════════════════════════════════════════
  2001: {
    federalBPA: 7412,
    provincialBPA: 7412,
    federalBrackets: br([[0, 30754, 0.16], [30754, 61509, 0.22], [61509, 100000, 0.26], [100000, null, 0.29]]),
    provincialBrackets: br([[0, 30814, 0.0605], [30814, 61628, 0.0915], [61628, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 38300, cppEmployeeRate: 0.043, cppCpp2Rate: 0, cppYampe: 38300,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0225,
    rrspLimit: 13500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2002: {
    federalBPA: 7634,
    provincialBPA: 7634,
    federalBrackets: br([[0, 31677, 0.16], [31677, 63354, 0.22], [63354, 103000, 0.26], [103000, null, 0.29]]),
    provincialBrackets: br([[0, 31892, 0.0605], [31892, 63784, 0.0915], [63784, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 39100, cppEmployeeRate: 0.047, cppCpp2Rate: 0, cppYampe: 39100,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0220,
    rrspLimit: 13500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2003: {
    federalBPA: 7756,
    provincialBPA: 7756,
    federalBrackets: br([[0, 32183, 0.16], [32183, 64368, 0.22], [64368, 104648, 0.26], [104648, null, 0.29]]),
    provincialBrackets: br([[0, 32435, 0.0605], [32435, 64871, 0.0915], [64871, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 39900, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 39900,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0218,
    rrspLimit: 14500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2004: {
    federalBPA: 8012,
    provincialBPA: 8012,
    federalBrackets: br([[0, 35000, 0.16], [35000, 70000, 0.22], [70000, 113804, 0.26], [113804, null, 0.29]]),
    provincialBrackets: br([[0, 33375, 0.0605], [33375, 66752, 0.0915], [66752, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 40500, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 40500,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0198,
    rrspLimit: 15500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2005: {
    federalBPA: 8148,
    provincialBPA: 8148,
    federalBrackets: br([[0, 35595, 0.15], [35595, 71190, 0.22], [71190, 115739, 0.26], [115739, null, 0.29]]),
    provincialBrackets: br([[0, 34010, 0.0605], [34010, 68020, 0.0915], [68020, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 41100, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 41100,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0195,
    rrspLimit: 16500, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2006: {
    federalBPA: 8839,
    provincialBPA: 8377,
    federalBrackets: br([[0, 36378, 0.155], [36378, 72756, 0.22], [72756, 118285, 0.26], [118285, null, 0.29]]),
    provincialBrackets: br([[0, 34758, 0.0605], [34758, 69517, 0.0915], [69517, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 42100, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 42100,
    eiMaxInsurableEarnings: 39000, eiEmployeeRate: 0.0187,
    rrspLimit: 18000, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2007: {
    federalBPA: 8929,
    provincialBPA: 8553,
    federalBrackets: br([[0, 37178, 0.15], [37178, 74357, 0.22], [74357, 120887, 0.26], [120887, null, 0.29]]),
    provincialBrackets: br([[0, 35488, 0.0605], [35488, 70976, 0.0915], [70976, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 43700, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 43700,
    eiMaxInsurableEarnings: 40000, eiEmployeeRate: 0.0180,
    rrspLimit: 19000, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2008: {
    federalBPA: 9600,
    provincialBPA: 8681,
    federalBrackets: br([[0, 37885, 0.15], [37885, 75769, 0.22], [75769, 123184, 0.26], [123184, null, 0.29]]),
    provincialBrackets: br([[0, 36020, 0.0605], [36020, 72041, 0.0915], [72041, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 44900, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 44900,
    eiMaxInsurableEarnings: 41100, eiEmployeeRate: 0.0173,
    rrspLimit: 20000, tfsaAnnualLimit: 0, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2009: {
    federalBPA: 10320,
    provincialBPA: 8881,
    federalBrackets: br([[0, 38832, 0.15], [38832, 77664, 0.22], [77664, 126264, 0.26], [126264, null, 0.29]]),
    provincialBrackets: br([[0, 36848, 0.0605], [36848, 73698, 0.0915], [73698, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 46300, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 46300,
    eiMaxInsurableEarnings: 42300, eiEmployeeRate: 0.0173,
    rrspLimit: 21000, tfsaAnnualLimit: 5000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2010: {
    federalBPA: 10382,
    provincialBPA: 8943,
    federalBrackets: br([[0, 40970, 0.15], [40970, 81941, 0.22], [81941, 127021, 0.26], [127021, null, 0.29]]),
    provincialBrackets: br([[0, 37106, 0.0505], [37106, 74214, 0.0915], [74214, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 47200, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 47200,
    eiMaxInsurableEarnings: 43200, eiEmployeeRate: 0.0173,
    rrspLimit: 22000, tfsaAnnualLimit: 5000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2011: {
    federalBPA: 10527,
    provincialBPA: 9104,
    federalBrackets: br([[0, 41544, 0.15], [41544, 83088, 0.22], [83088, 128800, 0.26], [128800, null, 0.29]]),
    provincialBrackets: br([[0, 37774, 0.0505], [37774, 75550, 0.0915], [75550, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 48300, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 48300,
    eiMaxInsurableEarnings: 43200, eiEmployeeRate: 0.0178,
    rrspLimit: 22450, tfsaAnnualLimit: 5000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2012: {
    federalBPA: 10822,
    provincialBPA: 9405,
    federalBrackets: br([[0, 42707, 0.15], [42707, 85414, 0.22], [85414, 132406, 0.26], [132406, null, 0.29]]),
    provincialBrackets: br([[0, 39020, 0.0505], [39020, 78043, 0.0915], [78043, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 50100, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 50100,
    eiMaxInsurableEarnings: 45900, eiEmployeeRate: 0.0183,
    rrspLimit: 22970, tfsaAnnualLimit: 5000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2013: {
    federalBPA: 11038,
    provincialBPA: 9574,
    federalBrackets: br([[0, 43561, 0.15], [43561, 87123, 0.22], [87123, 135054, 0.26], [135054, null, 0.29]]),
    provincialBrackets: br([[0, 39723, 0.0505], [39723, 79448, 0.0915], [79448, null, 0.1116]]),
    cppBasicExemption: 3500, cppYmpe: 51100, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 51100,
    eiMaxInsurableEarnings: 47400, eiEmployeeRate: 0.0188,
    rrspLimit: 23820, tfsaAnnualLimit: 5500, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2014: {
    federalBPA: 11138,
    provincialBPA: 9670,
    federalBrackets: br([[0, 43953, 0.15], [43953, 87907, 0.22], [87907, 136270, 0.26], [136270, null, 0.29]]),
    provincialBrackets: br([[0, 40120, 0.0505], [40120, 80242, 0.0915], [80242, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 52500, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 52500,
    eiMaxInsurableEarnings: 48600, eiEmployeeRate: 0.0188,
    rrspLimit: 24270, tfsaAnnualLimit: 5500, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2015: {
    federalBPA: 11327,
    provincialBPA: 9863,
    federalBrackets: br([[0, 44701, 0.15], [44701, 89401, 0.22], [89401, 138586, 0.26], [138586, null, 0.29]]),
    provincialBrackets: br([[0, 40922, 0.0505], [40922, 81847, 0.0915], [81847, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 53600, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 53600,
    eiMaxInsurableEarnings: 49500, eiEmployeeRate: 0.0188,
    rrspLimit: 24930, tfsaAnnualLimit: 10000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2016: {
    federalBPA: 11474,
    provincialBPA: 10011,
    federalBrackets: br([[0, 45282, 0.15], [45282, 90563, 0.205], [90563, 140388, 0.26], [140388, 200000, 0.29], [200000, null, 0.33]]),
    provincialBrackets: br([[0, 41536, 0.0505], [41536, 83075, 0.0915], [83075, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 54900, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 54900,
    eiMaxInsurableEarnings: 50800, eiEmployeeRate: 0.0188,
    rrspLimit: 25370, tfsaAnnualLimit: 5500, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2017: {
    federalBPA: 11635,
    provincialBPA: 10171,
    federalBrackets: br([[0, 45916, 0.15], [45916, 91831, 0.205], [91831, 142353, 0.26], [142353, 202800, 0.29], [202800, null, 0.33]]),
    provincialBrackets: br([[0, 42201, 0.0505], [42201, 84404, 0.0915], [84404, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 55300, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 55300,
    eiMaxInsurableEarnings: 51300, eiEmployeeRate: 0.0163,
    rrspLimit: 26010, tfsaAnnualLimit: 5500, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2018: {
    federalBPA: 11809,
    provincialBPA: 10354,
    federalBrackets: br([[0, 46605, 0.15], [46605, 93208, 0.205], [93208, 144489, 0.26], [144489, 205842, 0.29], [205842, null, 0.33]]),
    provincialBrackets: br([[0, 42960, 0.0505], [42960, 85923, 0.0915], [85923, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 55900, cppEmployeeRate: 0.0495, cppCpp2Rate: 0, cppYampe: 55900,
    eiMaxInsurableEarnings: 51700, eiEmployeeRate: 0.0166,
    rrspLimit: 26230, tfsaAnnualLimit: 5500, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2019: {
    federalBPA: 12069,
    provincialBPA: 10582,
    federalBrackets: br([[0, 47630, 0.15], [47630, 95259, 0.205], [95259, 147667, 0.26], [147667, 210371, 0.29], [210371, null, 0.33]]),
    provincialBrackets: br([[0, 43906, 0.0505], [43906, 87813, 0.0915], [87813, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 57400, cppEmployeeRate: 0.051, cppCpp2Rate: 0, cppYampe: 57400,
    eiMaxInsurableEarnings: 53100, eiEmployeeRate: 0.0162,
    rrspLimit: 26500, tfsaAnnualLimit: 6000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2020: {
    federalBPA: 13229,
    provincialBPA: 10783,
    federalBrackets: br([[0, 48535, 0.15], [48535, 97069, 0.205], [97069, 150473, 0.26], [150473, 214368, 0.29], [214368, null, 0.33]]),
    provincialBrackets: br([[0, 44740, 0.0505], [44740, 89482, 0.0915], [89482, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 58700, cppEmployeeRate: 0.0525, cppCpp2Rate: 0, cppYampe: 58700,
    eiMaxInsurableEarnings: 54200, eiEmployeeRate: 0.0158,
    rrspLimit: 27230, tfsaAnnualLimit: 6000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2021: {
    federalBPA: 13808,
    provincialBPA: 10880,
    federalBrackets: br([[0, 49020, 0.15], [49020, 98040, 0.205], [98040, 151978, 0.26], [151978, 216511, 0.29], [216511, null, 0.33]]),
    provincialBrackets: br([[0, 45142, 0.0505], [45142, 90287, 0.0915], [90287, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 61600, cppEmployeeRate: 0.0545, cppCpp2Rate: 0, cppYampe: 61600,
    eiMaxInsurableEarnings: 56300, eiEmployeeRate: 0.0158,
    rrspLimit: 27830, tfsaAnnualLimit: 6000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2022: {
    federalBPA: 14398,
    provincialBPA: 11141,
    federalBrackets: br([[0, 50197, 0.15], [50197, 100392, 0.205], [100392, 155625, 0.26], [155625, 221708, 0.29], [221708, null, 0.33]]),
    provincialBrackets: br([[0, 46226, 0.0505], [46226, 92454, 0.0915], [92454, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 64900, cppEmployeeRate: 0.057, cppCpp2Rate: 0, cppYampe: 64900,
    eiMaxInsurableEarnings: 60300, eiEmployeeRate: 0.0158,
    rrspLimit: 29210, tfsaAnnualLimit: 6000, fhsaAnnualLimit: 0,
    capitalGainsInclusionRate: 0.5,
  },
  2023: {
    federalBPA: 15000,
    provincialBPA: 11865,
    federalBrackets: br([[0, 53359, 0.15], [53359, 106717, 0.205], [106717, 165430, 0.26], [165430, 235675, 0.29], [235675, null, 0.33]]),
    provincialBrackets: br([[0, 49231, 0.0505], [49231, 98463, 0.0915], [98463, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 66600, cppEmployeeRate: 0.0595, cppCpp2Rate: 0, cppYampe: 66600,
    eiMaxInsurableEarnings: 61500, eiEmployeeRate: 0.0163,
    rrspLimit: 30780, tfsaAnnualLimit: 6500, fhsaAnnualLimit: 8000,
    capitalGainsInclusionRate: 0.5,
    oasClawbackThreshold: 86912,
  },
  2024: {
    federalBPA: 15705,
    provincialBPA: 11865,
    federalBrackets: br([[0, 55867, 0.15], [55867, 111733, 0.205], [111733, 154906, 0.26], [154906, 220000, 0.29], [220000, null, 0.33]]),
    provincialBrackets: br([[0, 51446, 0.0505], [51446, 102894, 0.0915], [102894, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 68500, cppEmployeeRate: 0.0595,
    cppCpp2Rate: 0.04, cppYampe: 73200,
    eiMaxInsurableEarnings: 63200, eiEmployeeRate: 0.0166,
    rrspLimit: 31560, tfsaAnnualLimit: 7000, fhsaAnnualLimit: 8000,
    capitalGainsInclusionRate: 0.5,
    oasClawbackThreshold: 90997,
  },
  2025: {
    federalBPA: 16129,
    provincialBPA: 12399,
    // 2025 federal lowest bracket: 14.5% blended (15% Jan-Jun, 14% Jul-Dec per 2025 budget)
    federalBrackets: br([[0, 57375, 0.145], [57375, 114750, 0.205], [114750, 177882, 0.26], [177882, 253414, 0.29], [253414, null, 0.33]]),
    provincialBrackets: br([[0, 52886, 0.0505], [52886, 105775, 0.0915], [105775, 150000, 0.1116], [150000, 220000, 0.1216], [220000, null, 0.1316]]),
    cppBasicExemption: 3500, cppYmpe: 71300, cppEmployeeRate: 0.0595,
    cppCpp2Rate: 0.04, cppYampe: 81200,
    eiMaxInsurableEarnings: 65700, eiEmployeeRate: 0.0164,
    rrspLimit: 32490, tfsaAnnualLimit: 7000, fhsaAnnualLimit: 8000,
    capitalGainsInclusionRate: 0.5,
    oasClawbackThreshold: 93454,
  },
};
